---
import AdminLayout from '../../../layouts/admin.astro';
import Place from '../../../components/manage/Place';
import { PLACEHOLDER_STORE } from '../../../shared/consts';
import type { PlaceType, Trait } from '../../../shared/types';

export const prerender = false;
const traitResponse = await fetch(`${import.meta.env.PUBLIC_API_URL}/api/admin/traits`);
const traits: Trait[] = await traitResponse.json();

const placeTypeResponse = await fetch(`${import.meta.env.PUBLIC_API_URL}/api/admin/placetypes`);
const placetypes: PlaceType[] = await placeTypeResponse.json();
---

<AdminLayout title="Add a Place">
  <Place store={PLACEHOLDER_STORE} traits={traits} placetypes={placetypes} client:load />
</AdminLayout>
